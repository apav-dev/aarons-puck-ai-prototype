[LOG] ğŸš€ Starting getFAQs test

[LOG] 
ğŸ§ª Testing extractFAQsFromText function
[LOG] ================================================================================
[LOG] 
âœ… Extracted 4 FAQ(s) from test content:

[LOG] 1. Q: How do I know what items are available for McDelivery? Menu items will vary by location. For food item availability, please select McDelivery in the McDonald's app. Mobile Order & Pay
[LOG]    A: How do I know which restaurants are participating in Mobile Order & Pay?
[LOG] 
[LOG] 2. Q: How do I know if McDelivery is available to my address?
[LOG]    A: Depending on where you are, McDelivery is available on DoorDash, Uber Eats, Grubhub, or Postmates apps.
[LOG] 
[LOG] 3. Q: How do I know what items are available for McDelivery?
[LOG]    A: Menu items will vary by location. For food item availability, please select McDelivery in the McDonald's app.
[LOG] 
[LOG] 4. Q: How do I know which restaurants are participating in Mobile Order & Pay?
[LOG]    A: Make sure you turn on location services so that we can include all of the available features in the McDonald's app.
[LOG] 
[LOG] 
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[LOG] Test Case: McDonald's location with FAQs on the page
[LOG] â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[LOG] 
ğŸ§ª Testing getFAQs for: McDonald's (restaurant) in Brooklyn, NY
[LOG]    Location URL: https://www.mcdonalds.com/us/en-us/location/NY/BROOKLYN/904-MANHATTAN-AVE/2678.html?cid=RF:YXT:GMB::Clicks
[LOG] ================================================================================
[LOG] âœ… TAVILY_API_KEY found (length: 41 characters)
[LOG] âœ… GOOGLE_GENERATIVE_AI_API_KEY found (length: 39 characters)
[LOG] 
ğŸ“ Input parameters:
[LOG]   - Brand: McDonald's
[LOG]   - Entity Type: restaurant
[LOG]   - Location: Brooklyn, NY
[LOG]   - Location URL: https://www.mcdonalds.com/us/en-us/location/NY/BROOKLYN/904-MANHATTAN-AVE/2678.html?cid=RF:YXT:GMB::Clicks
[LOG] 
ğŸ¤– Calling searchAndExtractFAQs...
[LOG] 
âœ… Success! (took 12954ms)
[LOG] 
ğŸ“Š Found 7 FAQ(s):

[LOG] 1. Q: How do I know which restaurants are participating in Mobile Order & Pay?
[LOG]    A: Make sure you turn on location services so that we can include all of the available features in the McDonald's app. Mobile Order & Pay will be availab...
[LOG] 
[LOG] 2. Q: What forms of payment are accepted?
[LOG]    A: You can register Visa, MasterCard, American Express and Discover cards in the app. Payment cards registered must be issued by a U.S. bank. If you have...
[LOG] 
[LOG] 3. Q: Does McDonaldâ€™s have Contactless Delivery?
[LOG]    A: Contactless delivery is available through our partners as no-contact delivery on DoorDash, no-contact delivery on Uber Eats, contact-free on Grubhub, ...
[LOG] 
[LOG] 4. Q: How Does McDonaldâ€™s Curbside Pickup Work?
[LOG]    A: By using the McDonaldâ€™s app you can get your food via curbside without leaving your vehicle.
[LOG] 
[LOG] 5. Q: How Do I Order McDonaldâ€™s Contactless Delivery?
[LOG]    A: To order McDonaldâ€™s contactless delivery, select your favorites in DoorDash, Uber Eats, Grubhub, or Postmates as you usually would. When you are check...
[LOG] 
[LOG] 6. Q: How do I find McDonaldâ€™s contactless delivery near me?
[LOG]    A: To find McDonaldâ€™s contactless delivery near you, simply download the DoorDash, Uber Eats, Grubhub, or Postmates app. You can allow access to your loc...
[LOG] 
[LOG] 7. Q: Is There Recording Happening at McDonaldâ€™s Restaurants?
[LOG]    A: Yes, we record video for service improvement, technology development and security purposes. Find more information in the recording notice FAQ.
[LOG] 
[LOG] 
ğŸ“‹ Full FAQ data:
[LOG] [
  {
    "question": "How do I know which restaurants are participating in Mobile Order & Pay?",
    "answer": "Make sure you turn on location services so that we can include all of the available features in the McDonald's app. Mobile Order & Pay will be available in the McDonald's app as a feature when you're within 5 miles of a McDonald's restaurant that offers Mobile Order & Pay. Within the location map, after selecting a restaurant icon, selecting the detail box will also indicate if Mobile Order & Pay is available at a particular location. If the restaurant is participating, \"Order Here\" will be available at the bottom of the detail page, allowing you to select it and begin the order. If not, \"Order Here\" will be muted, indicating that Mobile Order & Pay is not enabled at that location."
  },
  {
    "question": "What forms of payment are accepted?",
    "answer": "You can register Visa, MasterCard, American Express and Discover cards in the app. Payment cards registered must be issued by a U.S. bank. If you have an iOS device, and your card is registered to your Apple Wallet, Apple Pay will automatically function as a payment option within the McDonaldâ€™s app. If you have registered a card to the Google Payâ„¢ app on your Android, you can select Google Payâ„¢ as a payment method in the McDonald's app. Payments with PayPal and Venmo are now also available with Mobile Order & Pay."
  },
  {
    "question": "Does McDonaldâ€™s have Contactless Delivery?",
    "answer": "Contactless delivery is available through our partners as no-contact delivery on DoorDash, no-contact delivery on Uber Eats, contact-free on Grubhub, and non-contact delivery on Postmates."
  },
  {
    "question": "How Does McDonaldâ€™s Curbside Pickup Work?",
    "answer": "By using the McDonaldâ€™s app you can get your food via curbside without leaving your vehicle."
  },
  {
    "question": "How Do I Order McDonaldâ€™s Contactless Delivery?",
    "answer": "To order McDonaldâ€™s contactless delivery, select your favorites in DoorDash, Uber Eats, Grubhub, or Postmates as you usually would. When you are checking out, choose the â€œLeave at Doorâ€ option in the Uber Eats app, â€œLeave at my doorâ€ option in the DoorDash app, or \"contact-free delivery\" in the Grubhub app, or choose the dropoff option \"Leave order at my door\" on Postmates."
  },
  {
    "question": "How do I find McDonaldâ€™s contactless delivery near me?",
    "answer": "To find McDonaldâ€™s contactless delivery near you, simply download the DoorDash, Uber Eats, Grubhub, or Postmates app. You can allow access to your location or input the address where you want to order your food for delivery. The apps will automatically find a McDonaldâ€™s nearest you! Simply select McDonaldâ€™s and add your favorites â€“ then choose â€œLeave at Doorâ€ while checking out on Uber Eats, â€œLeave at my Doorâ€ during checkout on DoorDash, \"Contact-free delivery\" when checking out on Grubhub, or choose the dropoff option \"Leave order at my door\" on Postmates!"
  },
  {
    "question": "Is There Recording Happening at McDonaldâ€™s Restaurants?",
    "answer": "Yes, we record video for service improvement, technology development and security purposes. Find more information in the recording notice FAQ."
  }
]
[LOG] 
âœ… All FAQs have valid structure (question + answer)
[LOG] 
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[LOG] Test Case: TIAA location without FAQs (should generate with AI)
[LOG] â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[LOG] 
ğŸ§ª Testing getFAQs for: TIAA (financial services) in New York, NY
[LOG]    Location URL: https://locations.tiaa.org/ny/new-york/730-third-avenue?tc_mcid=bn_yextglocal_0618
[LOG] ================================================================================
[LOG] âœ… TAVILY_API_KEY found (length: 41 characters)
[LOG] âœ… GOOGLE_GENERATIVE_AI_API_KEY found (length: 39 characters)
[LOG] 
ğŸ“ Input parameters:
[LOG]   - Brand: TIAA
[LOG]   - Entity Type: financial services
[LOG]   - Location: New York, NY
[LOG]   - Location URL: https://locations.tiaa.org/ny/new-york/730-third-avenue?tc_mcid=bn_yextglocal_0618
[LOG] 
ğŸ¤– Calling searchAndExtractFAQs...
[LOG] 
âœ… Success! (took 20311ms)
[LOG] 
ğŸ“Š Found 2 FAQ(s):

[LOG] 1. Q: What are the operating hours and contact details for the TIAA Financial Services office at 730 Third Avenue in New York?
[LOG]    A: The TIAA Financial Services office at 730 Third Avenue, 6th Floor, New York, NY 10017 is currently open and closes at 5:00 PM on Friday. Visits are by...
[LOG] 
[LOG] 2. Q: Is the TIAA Financial Services location at 2815 Broadway in New York currently open?
[LOG]    A: The TIAA Financial Services location at 2815 Broadway, New York, NY 10025 is temporarily closed. You can call (800) 842-2733 for more information.
[LOG] 
[LOG] 
ğŸ“‹ Full FAQ data:
[LOG] [
  {
    "question": "What are the operating hours and contact details for the TIAA Financial Services office at 730 Third Avenue in New York?",
    "answer": "The TIAA Financial Services office at 730 Third Avenue, 6th Floor, New York, NY 10017 is currently open and closes at 5:00 PM on Friday. Visits are by appointment only. You can contact them directly at (212) 916-5800 or via the Toll-Free Number: (800) 842-2733."
  },
  {
    "question": "Is the TIAA Financial Services location at 2815 Broadway in New York currently open?",
    "answer": "The TIAA Financial Services location at 2815 Broadway, New York, NY 10025 is temporarily closed. You can call (800) 842-2733 for more information."
  }
]
[LOG] 
âœ… All FAQs have valid structure (question + answer)
[LOG] 
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[LOG] Test Case: Starbucks without URL (should search and extract or generate)
[LOG] â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[LOG] 
ğŸ§ª Testing getFAQs for: Starbucks (coffee shop) in Seattle, WA
[LOG] ================================================================================
[LOG] âœ… TAVILY_API_KEY found (length: 41 characters)
[LOG] âœ… GOOGLE_GENERATIVE_AI_API_KEY found (length: 39 characters)
[LOG] 
ğŸ“ Input parameters:
[LOG]   - Brand: Starbucks
[LOG]   - Entity Type: coffee shop
[LOG]   - Location: Seattle, WA
[LOG] 
ğŸ¤– Calling searchAndExtractFAQs...
[ERROR] Error refining FAQs with AI: {
  "name": "AI_NoObjectGeneratedError",
  "response": {
    "id": "aiobj-XzTfGgZADN3m2DXcUBCtiXys",
    "timestamp": "2025-11-07T17:56:45.506Z",
    "modelId": "gemini-2.5-flash",
    "headers": {
      "alt-svc": "h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000",
      "content-encoding": "gzip",
      "content-type": "application/json; charset=UTF-8",
      "date": "Fri, 07 Nov 2025 17:56:45 GMT",
      "server": "scaffolding on HTTPServer2",
      "server-timing": "gfet4t7; dur=17742",
      "transfer-encoding": "chunked",
      "vary": "Origin, X-Origin, Referer",
      "x-content-type-options": "nosniff",
      "x-frame-options": "SAMEORIGIN",
      "x-xss-protection": "0"
    },
    "body": {
      "candidates": [
        {
          "content": {
            "role": "model"
          },
          "finishReason": "MAX_TOKENS",
          "index": 0,
          "citationMetadata": {
            "citationSources": [
              {
                "startIndex": 948,
                "endIndex": 1154,
                "uri": "https://www.starbucksemeacareers.com/en/FAQs",
                "license": ""
              },
              {
                "startIndex": 1418,
                "endIndex": 1633,
                "uri": "https://www.starbucksemeacareers.com/en/FAQs",
                "license": ""
              },
              {
                "startIndex": 2667,
                "endIndex": 3077,
                "uri": "https://www.starbucksemeacareers.com/en/FAQs",
                "license": ""
              },
              {
                "startIndex": 3374,
                "endIndex": 3784,
                "uri": "https://www.starbucksemeacareers.com/en/FAQs",
                "license": ""
              },
              {
                "startIndex": 7405,
                "endIndex": 7705,
                "uri": "https://www.starbucksemeacareers.com/en/FAQs",
                "license": ""
              },
              {
                "startIndex": 7990,
                "endIndex": 8290,
                "uri": "https://www.starbucksemeacareers.com/en/FAQs",
                "license": ""
              },
              {
                "startIndex": 9525,
                "endIndex": 9731,
                "uri": "https://www.starbucksemeacareers.com/en/FAQs",
                "license": ""
              },
              {
                "startIndex": 11467,
                "endIndex": 11673,
                "uri": "https://www.starbucksemeacareers.com/en/FAQs",
                "license": ""
              },
              {
                "startIndex": 11863,
                "endIndex": 12078,
                "uri": "https://www.starbucksemeacareers.com/en/FAQs",
                "license": ""
              },
              {
                "startIndex": 13038,
                "endIndex": 13448,
                "uri": "https://www.starbucksemeacareers.com/en/FAQs",
                "license": ""
              },
              {
                "startIndex": 13671,
                "endIndex": 14081,
                "uri": "https://www.starbucksemeacareers.com/en/FAQs",
                "license": ""
              }
            ]
          }
        }
      ],
      "usageMetadata": {
        "promptTokenCount": 1380,
        "totalTokenCount": 5379,
        "promptTokensDetails": [
          {
            "modality": "TEXT",
            "tokenCount": 1380
          }
        ],
        "thoughtsTokenCount": 3999
      },
      "modelVersion": "gemini-2.5-flash",
      "responseId": "3TIOafe5G-G8_uMPscaCuQ0"
    }
  },
  "usage": {
    "inputTokens": 1380,
    "totalTokens": 5379,
    "reasoningTokens": 3999
  },
  "finishReason": "length"
}
[LOG] 
âœ… Success! (took 19597ms)
[LOG] 
ğŸ“Š Found 9 FAQ(s):

[LOG] 1. Q: How do I search and apply for a position?
[LOG]    A: To search and apply for a position at Starbucks, please click on the tab labelled â€˜search jobsâ€™ at the top of the home page. This will lead you to a l...
[LOG] 
[LOG] 2. Q: How will I know if my application has been received?
[LOG]    A: Once you have submitted your application you will receive an email to say that we have received it.



How long will it take after I submit my applica...
[LOG] 
[LOG] 3. Q: What is the best way to stay updated on career opportunities at Starbucks?
[LOG]    A: To keep up to date on the latest career opportunities the search button is the best place to look. For retail stores we operate in licensed partnershi...
[LOG] 
[LOG] 4. Q: If I am unsuccessful, can I reapply for another position within Starbucks?
[LOG]    A: If you are unsuccessful for a position here at Starbucks you are more than welcome to reapply for another role. We recommend that you keep an eye on a...
[LOG] 
[LOG] 5. Q: If I have worked for Starbucks before how should I apply to re-join?
[LOG]    A: Itâ€™s exciting to learn that you are interested in joining Starbucks again
[LOG] 
[LOG] 6. Q: Are there any tips on how I might better my Starbucks application?
[LOG]    A: Ensure your CV is up to date and provide as much relavant information within your application. Making sure you give us your correct contact details is...
[LOG] 
[LOG] 7. Q: I have a disability, are you able to cater to my requirements if I am invited in for an interview?
[LOG]    A: Yes, please let us know in advance of your interview and we will do everything we can to cater to your requirements.



I require sponsorship to work ...
[LOG] 
[LOG] 8. Q: Are all Starbucks vacancies posted on the careers page?
[LOG]    A: Starbucks operate in licensed partnership with fantastic local and international operators across the UK and the Netherlands. Job vacancies for licens...
[LOG] 
[LOG] 9. Q: Still experiencing problems?
[LOG]    A: Please get in touch by emailing [emeacareers@starbucks.com](mailto:emeacareers@starbucks.com).



How do I view the website in another language (i.e. ...
[LOG] 
[LOG] 
ğŸ“‹ Full FAQ data:
[LOG] [
  {
    "question": "How do I search and apply for a position?",
    "answer": "To search and apply for a position at Starbucks, please click on the tab labelled â€˜search jobsâ€™ at the top of the home page. This will lead you to a list of positions which we are currently recruiting for.\n\n\n\nCan I apply for more than one position within Starbucks at any one time"
  },
  {
    "question": "How will I know if my application has been received?",
    "answer": "Once you have submitted your application you will receive an email to say that we have received it.\n\n\n\nHow long will it take after I submit my application to receive a response"
  },
  {
    "question": "What is the best way to stay updated on career opportunities at Starbucks?",
    "answer": "To keep up to date on the latest career opportunities the search button is the best place to look. For retail stores we operate in licensed partnership with fantastic local and international operators across the UK and the Netherlands. Job vacancies for licensed partner operators are not listed on this website, if you cannot see opportunities for your area please visit your local store to find out how to apply\n\n\n\nWill I receive feedback on my application even if I am unsuccessful"
  },
  {
    "question": "If I am unsuccessful, can I reapply for another position within Starbucks?",
    "answer": "If you are unsuccessful for a position here at Starbucks you are more than welcome to reapply for another role. We recommend that you keep an eye on all the latest vacancies on the careers page.\n\n\n\nHow often is the careers page updated"
  },
  {
    "question": "If I have worked for Starbucks before how should I apply to re-join?",
    "answer": "Itâ€™s exciting to learn that you are interested in joining Starbucks again"
  },
  {
    "question": "Are there any tips on how I might better my Starbucks application?",
    "answer": "Ensure your CV is up to date and provide as much relavant information within your application. Making sure you give us your correct contact details is a must, so double check before you click apply\n\n\n\nIâ€™m having trouble submitting my application, what should I do"
  },
  {
    "question": "I have a disability, are you able to cater to my requirements if I am invited in for an interview?",
    "answer": "Yes, please let us know in advance of your interview and we will do everything we can to cater to your requirements.\n\n\n\nI require sponsorship to work in the EU, are Starbucks able to help sponsor me"
  },
  {
    "question": "Are all Starbucks vacancies posted on the careers page?",
    "answer": "Starbucks operate in licensed partnership with fantastic local and international operators across the UK and the Netherlands. Job vacancies for licensed partner operators are not listed on this website, if you cannot see opportunities for your area please visit your local store to find out how to apply.\n\n\n\nWhat do I do if I encounter a technical issue (i.e. map not displaying)"
  },
  {
    "question": "Still experiencing problems?",
    "answer": "Please get in touch by emailing [emeacareers@starbucks.com](mailto:emeacareers@starbucks.com).\n\n\n\nHow do I view the website in another language (i.e. Dutch)"
  }
]
[LOG] 
âœ… All FAQs have valid structure (question + answer)
[LOG] 
================================================================================
[LOG] 
ğŸ“Š Test Summary:
[LOG]    âœ… Passed: 3
[LOG]    âŒ Failed: 0
[LOG]    ğŸ“ˆ Total: 3
[LOG] 
âœ¨ All tests completed
[LOG] 
ğŸ“„ Test results written to: /Users/apavlick/Dev/aarons-puck-ai-prototype/test-faqs-output.json